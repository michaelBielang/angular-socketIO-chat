<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  const connection = new WebSocket('ws://localhost:8080/chatSocket/'),
    loginData = {
      email: 'q@q.de', password: '1234'
    }

  connection.onopen = function () {
    console.log('conn open!')
    let event = {
      type: 'Login',
      value: loginData
    }
    connection.send(JSON.stringify(event))

    event = {
      type: 'JoinRoom',
      value: {'roomName': 'test2'}
    }
    connection.send(JSON.stringify(event))
  }

  // Log errors
  connection.onerror = function (error) {
    console.log('error!')
    console.log('WebSocket Error ' + JSON.stringify(error))
  }
  // Log messages from the server
  connection.onmessage = function (e) {
    console.log('message!')
    let o = JSON.parse(e.data)
    console.log('Server', o)
  }
</script>
</body>
</html>
